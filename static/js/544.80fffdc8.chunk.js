"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[544],{844:function(e,i,n){n(791);i.Z=n.p+"static/media/placeholder-poster.f9db13c5f6963815666d104105243935.svg"},409:function(e,i,n){function a(e,i){if(null==e)return{};var n,a,r=function(e,i){if(null==e)return{};var n,a,r={},t=Object.keys(e);for(a=0;a<t.length;a++)n=t[a],i.indexOf(n)>=0||(r[n]=e[n]);return r}(e,i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)n=t[a],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(i,{Z:function(){return b}});var r=n(87),t=n(689),o=n(390),c=n(433),s=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"},{id:10759,name:"Action & Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}].reduce((function(e,i){var n=i.id,a=i.name;return e[n]=a,e}),{other:"Other"});var d=n(844),m="movie-card_posterWrapper__XCokE",l="movie-card_poster__xh2iF",v="movie-card_rating__w57D0",u="movie-card_year__CxYz6",h="movie-card_description__X-tWE",p="movie-card_title__+ZwDr",f="movie-card_genres__Kc-TX",g=n(184),_=function(e){var i=e.movieInfo,n=i.poster_path,a=i.title,r=i.vote_average,t=i.release_date,_=i.genre_ids,y=o.Z.getPosterUrl({path:n,size:400,placeholder:d.Z}),j=t?new Date(t).getFullYear():null,w=function(e){var i=(0,c.Z)(e);return i.length>3&&i.splice(2,i.length-2,"other"),i.map((function(e){return s[e]})).join(", ")}(_),x=Math.round(10*r);return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("img",{className:l,src:y,alt:a,loading:"lazy"}),(0,g.jsxs)("div",{className:v,children:[x,"%"]}),Boolean(j)&&(0,g.jsx)("div",{className:u,children:j})]}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("p",{className:p,children:a}),(0,g.jsxs)("p",{className:f,children:[" ",w," "]})]})]})},y="movie-list_list__crBS3",j="movie-list_item__x24-v",w=["id"],x=function(e){var i=e.movies,n=(0,t.TH)();return(0,g.jsx)("ul",{className:y,children:i.map((function(e){var i=e.id,t=a(e,w);return(0,g.jsx)("li",{className:j,children:(0,g.jsx)(r.rU,{to:"/movies/".concat(i),state:{from:n},children:(0,g.jsx)(_,{movieInfo:t})})},i)}))})},b=x;x.defaultValues={movies:[]}},544:function(e,i,n){n.r(i);var a=n(439),r=n(791),t=n(409),o=n(390),c=n(184);i.default=function(){var e=(0,r.useState)([]),i=(0,a.Z)(e,2),n=i[0],s=i[1];return(0,r.useEffect)((function(){o.Z.getTrending({page:1}).then((function(e){var i=e.data;return s(i.results)})).catch((function(){return null}))}),[]),(0,c.jsxs)("main",{children:[(0,c.jsx)("h1",{children:"Trending today"}),(0,c.jsx)(t.Z,{movies:n})]})}},390:function(e,i,n){var a=n(912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"06ae09073235b2b05f047c5928d7f44e"}}),r={all:"all",movie:"movie",tv:"tv",person:"person"},t={day:"day",week:"week"},o={MEDIA_TYPE:r,TIME_WINDOW:t,getTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.page,n=void 0===i?1:i,o=e.mediaType,c=void 0===o?r.movie:o,s=e.timeWindow,d=void 0===s?t.week:s;return a.get("/trending/".concat(c,"/").concat(d),{params:{page:n}})},getMovies:function(e){var i=e.page,n=void 0===i?1:i,r=e.query;return a.get("/search/movie",{params:{page:n,query:r}})},getMovieDetails:function(e){var i=e.movieId;return a.get("/movie/".concat(i)).catch((function(e){if(e.response.status=404)throw Error("Sorry. There is no movie with id ".concat(i,"."));throw e}))},getMovieCredits:function(e){var i=e.movieId;return a.get("/movie/".concat(i,"/credits"))},getMovieReviews:function(e){var i=e.movieId;return a.get("/movie/".concat(i,"/reviews"))},getPosterUrl:function(e){var i=e.path,n=e.size,a=void 0===n?300:n,r=e.placeholder;return i?"https://image.tmdb.org/t/p/w".concat(a).concat(i):r}};i.Z=o}}]);
//# sourceMappingURL=544.80fffdc8.chunk.js.map